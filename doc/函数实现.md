# 函数映射表（内部文档）

各平台监听 window.location.href 的改动，其值就是传过来的参数

## View

- view.card

    ```coffee
    args = {pluginID: pluginID, title: title, content: content}
    ```
    success:

    ```javascript
    M.onMessage({id: 123})
    ```

    error:

    ```javascript
    M.onMessage({id: 123, error: 'Detail Infomation'})
    ```

## KVDB

- kvdb.set

    ```coffee
    args = {key: key, value: 'string'}
    ```
    success:

    ```javascript
    M.onMessage({id: 123})
    ```

    error:

    ```javascript
    M.onMessage({id: 123, error: 'Detail Infomation'})
    ```

- kvdb.get

    ```coffee
    args = {key: key}
    ```

    success:

    ```javascript
    M.onMessage({id: 123, data: 'String'})
    ```

    error:

    ```javascript
    M.onMessage({id: 123, error: 'Detail Infomation'})
    ```

- kvdb.remove

    ```coffee
    args = {key: key}
    ```
    success:

    ```javascript
    M.onMessage({id: 123})
    ```

    error:

    ```javascript
    M.onMessage({id: 123, error: 'Detail Infomation'})
    ```


- kvdb.clear

    success:

    ```javascript
    M.onMessage({id: 123})
    ```

    error:

    ```javascript
    M.onMessage({id: 123, error: 'Detail Infomation'})
    ```

## User

- user.stuid

    success:

    ```javascript
    M.onMessage({id: 123, data: stuid})
    ```

    error:

    ```javascript
    M.onMessage({id: 123, error: 'Detail Infomation'})
    ```


- user.pwd

    success:

    ```javascript
    M.onMessage({id: 123, data: pwd})
    ```

    error:

    ```javascript
    M.onMessage({id: 123, error: 'Detail Infomation'})
    ```
